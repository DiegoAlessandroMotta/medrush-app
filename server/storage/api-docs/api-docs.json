{
    "openapi": "3.0.0",
    "info": {
        "title": "MedRushApp API",
        "description": "API REST para el sistema de distribución de medicinas MedRush",
        "termsOfService": "https://example.com/terms",
        "contact": {
            "name": "API Support",
            "url": "https://example.com/support",
            "email": "support@example.com"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:4000",
            "description": "Servidor Local"
        },
        {
            "url": "https://api.medrush.com",
            "description": "Servidor de Producción"
        }
    ],
    "paths": {
        "/api/auth/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Inicio de sesión",
                "description": "Autentica un usuario con email y contraseña. Retorna un token de acceso (Sanctum) que debe usarse en las peticiones posteriores.",
                "operationId": "authLogin",
                "requestBody": {
                    "description": "Credenciales del usuario",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password",
                                    "device_name"
                                ],
                                "properties": {
                                    "email": {
                                        "description": "Email del usuario",
                                        "type": "string",
                                        "format": "email",
                                        "example": "admin@example.com"
                                    },
                                    "password": {
                                        "description": "Contraseña del usuario",
                                        "type": "string",
                                        "format": "password",
                                        "example": "password"
                                    },
                                    "device_name": {
                                        "description": "Nombre del dispositivo (móvil, web, etc)",
                                        "type": "string",
                                        "example": "iPhone 15 Pro"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Inicio de sesión exitoso",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Inicio de sesión exitoso."
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "string",
                                                            "format": "uuid",
                                                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Admin User"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "format": "email",
                                                            "example": "admin@example.com"
                                                        },
                                                        "avatar": {
                                                            "description": "URL firmada de la foto de perfil",
                                                            "type": "string",
                                                            "format": "url",
                                                            "example": "https://example.com/storage/signed-url"
                                                        },
                                                        "is_active": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "created_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "2025-11-22T10:30:00Z"
                                                        },
                                                        "updated_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "2025-11-22T10:30:00Z"
                                                        },
                                                        "roles": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "example": [
                                                                "admin"
                                                            ]
                                                        },
                                                        "perfil_repartidor": {
                                                            "description": "Perfil del repartidor si el usuario tiene ese rol",
                                                            "type": "object",
                                                            "nullable": true
                                                        },
                                                        "perfil_farmacia": {
                                                            "description": "Perfil de la farmacia si el usuario tiene ese rol",
                                                            "type": "object",
                                                            "nullable": true
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "access_token": {
                                                    "description": "Token de acceso Sanctum a usar en el header Authorization",
                                                    "type": "string",
                                                    "example": "1|abcd1234efgh5678ijkl9012mnop3456qrst7890uvwx"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación - Email, contraseña inválidos o cuenta desactivada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "fail"
                                            ],
                                            "example": "fail"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Los datos proporcionados no son válidos."
                                        },
                                        "error": {
                                            "properties": {
                                                "code": {
                                                    "type": "string",
                                                    "example": "VALIDATION_ERROR"
                                                },
                                                "errors": {
                                                    "properties": {
                                                        "email": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "example": [
                                                                "Las credenciales proporcionadas son incorrectas. (Email/Contraseña)",
                                                                "Tu cuenta está desactivada. Contacta al administrador."
                                                            ]
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/me": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Obtener información del usuario autenticado",
                "description": "Retorna la información completa del usuario actualmente autenticado.",
                "operationId": "authMe",
                "responses": {
                    "200": {
                        "description": "Información del usuario obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Información del usuario autenticado."
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Admin User"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "format": "email",
                                                    "example": "admin@example.com"
                                                },
                                                "avatar": {
                                                    "description": "URL firmada de la foto de perfil",
                                                    "type": "string",
                                                    "format": "url",
                                                    "example": "https://example.com/storage/signed-url"
                                                },
                                                "is_active": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-11-22T10:30:00Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-11-22T10:30:00Z"
                                                },
                                                "roles": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "admin"
                                                    ]
                                                },
                                                "perfil_repartidor": {
                                                    "description": "Perfil del repartidor si el usuario tiene ese rol",
                                                    "type": "object",
                                                    "nullable": true
                                                },
                                                "perfil_farmacia": {
                                                    "description": "Perfil de la farmacia si el usuario tiene ese rol",
                                                    "type": "object",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/auth/logout": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Cerrar sesión en el dispositivo actual",
                "description": "Revoca el token del dispositivo actual. El usuario seguirá autenticado en otros dispositivos.",
                "operationId": "authLogout",
                "responses": {
                    "204": {
                        "description": "Sesión cerrada exitosamente"
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/auth/logout-all": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Cerrar sesión en todos los dispositivos",
                "description": "Revoca todos los tokens del usuario. El usuario quedará completamente desautenticado en todos los dispositivos.",
                "operationId": "authLogoutAll",
                "responses": {
                    "204": {
                        "description": "Sesión cerrada en todos los dispositivos"
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/auth/tokens": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Listar todas las sesiones activas",
                "description": "Retorna una lista de todos los tokens (sesiones activas) del usuario autenticado, incluyendo en cuál dispositivo fue usado por última vez.",
                "operationId": "authListTokens",
                "responses": {
                    "200": {
                        "description": "Lista de sesiones obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Sesiones activas obtenidas exitosamente."
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "name": {
                                                        "description": "Nombre del dispositivo",
                                                        "type": "string",
                                                        "example": "iPhone 15 Pro"
                                                    },
                                                    "last_used_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-11-22T14:30:00Z",
                                                        "nullable": true
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-11-22T10:30:00Z"
                                                    },
                                                    "is_current": {
                                                        "description": "Indica si es el token/sesión actual",
                                                        "type": "boolean",
                                                        "example": true
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/auth/tokens/{tokenId}": {
            "delete": {
                "tags": [
                    "Auth"
                ],
                "summary": "Revocar una sesión específica",
                "description": "Revoca un token específico (sesión) del usuario. No puedes revocar el token que estás usando actualmente.",
                "operationId": "authRevokeToken",
                "parameters": [
                    {
                        "name": "tokenId",
                        "in": "path",
                        "description": "ID del token a revocar",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Sesión revocada exitosamente"
                    },
                    "400": {
                        "description": "No puedes revocar el token que estás usando actualmente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Token no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/downloads/csv-template/{lang}/{templateKey}/url": {
            "get": {
                "tags": [
                    "Downloads"
                ],
                "summary": "Obtener URL firmada para descargar plantilla CSV",
                "description": "Genera una URL firmada y temporal (válida 15 minutos) para descargar una plantilla CSV en el idioma especificado. Útil para importación de datos masivos.",
                "operationId": "downloadGetSignedCsvTemplateUrl",
                "parameters": [
                    {
                        "name": "lang",
                        "in": "path",
                        "description": "Código de idioma (ej: es, en)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "es"
                        }
                    },
                    {
                        "name": "templateKey",
                        "in": "path",
                        "description": "Identificador de la plantilla (ej: pedidos, farmacias, repartidores)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "pedidos"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "URL firmada generada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "URL firmada generada exitosamente."
                                        },
                                        "data": {
                                            "properties": {
                                                "signed_url": {
                                                    "description": "URL temporal firmada para descargar",
                                                    "type": "string",
                                                    "format": "url",
                                                    "example": "https://api.example.com/downloads/csv-template/es/pedidos?signature=..."
                                                },
                                                "expires_at": {
                                                    "description": "Fecha/hora de expiración de la URL",
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-11-22T11:00:00Z"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Plantilla CSV no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/downloads/csv-template/{lang}/{templateKey}": {
            "get": {
                "tags": [
                    "Downloads"
                ],
                "summary": "Descargar plantilla CSV",
                "description": "Descarga una plantilla CSV para importación de datos. Esta ruta debe ser accedida con la URL firmada generada por el endpoint anterior.",
                "operationId": "downloadCsvTemplate",
                "parameters": [
                    {
                        "name": "lang",
                        "in": "path",
                        "description": "Código de idioma",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "es"
                        }
                    },
                    {
                        "name": "templateKey",
                        "in": "path",
                        "description": "Identificador de la plantilla",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "pedidos"
                        }
                    },
                    {
                        "name": "signature",
                        "in": "query",
                        "description": "Firma de URL (requerida si la ruta lo exige)",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Archivo CSV descargado exitosamente",
                        "content": {
                            "text/csv": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Plantilla no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/downloads/app": {
            "get": {
                "tags": [
                    "Downloads"
                ],
                "summary": "Descargar aplicación MedRush (APK)",
                "description": "Descarga el archivo APK de la aplicación MedRush para instalar en dispositivos Android.",
                "operationId": "downloadMedrushApp",
                "responses": {
                    "200": {
                        "description": "Archivo APK descargado exitosamente",
                        "content": {
                            "application/vnd.android.package-archive": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Archivo de aplicación no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/fcm/tokens": {
            "post": {
                "tags": [
                    "FCM",
                    "Device Tokens"
                ],
                "summary": "Registrar o actualizar token FCM",
                "description": "Registra un nuevo token FCM para notificaciones push en el dispositivo actual. Si el token ya existe, actualiza la fecha de último uso. Útil para mantener múltiples dispositivos sincronizados.",
                "operationId": "fcmTokensStore",
                "requestBody": {
                    "description": "Token FCM del dispositivo",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "token"
                                ],
                                "properties": {
                                    "token": {
                                        "description": "Token FCM proporcionado por Firebase Cloud Messaging",
                                        "type": "string",
                                        "example": "eJZY5g7xR..."
                                    },
                                    "platform": {
                                        "description": "Plataforma del dispositivo (ios, android, web, etc)",
                                        "type": "string",
                                        "example": "ios",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Token FCM registrado o actualizado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El token FCM ha sido registrado exitosamente."
                                        },
                                        "data": {
                                            "type": "null"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validación fallida - Token requerido",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/fcm/tokens/{token}": {
            "delete": {
                "tags": [
                    "FCM",
                    "Device Tokens"
                ],
                "summary": "Eliminar un token FCM específico",
                "description": "Elimina un token FCM específico del usuario. El usuario dejaría de recibir notificaciones push en ese dispositivo.",
                "operationId": "fcmTokensDestroy",
                "parameters": [
                    {
                        "name": "token",
                        "in": "path",
                        "description": "Token FCM a eliminar",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "eJZY5g7xR..."
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Token eliminado o no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El token FCM ha sido eliminado exitosamente."
                                        },
                                        "data": {
                                            "type": "null"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/fcm/tokens/sesion/actual": {
            "delete": {
                "tags": [
                    "FCM",
                    "Device Tokens"
                ],
                "summary": "Eliminar tokens FCM de la sesión actual",
                "description": "Elimina todos los tokens FCM asociados a la sesión actual del usuario. Útil al cerrar sesión o en un dispositivo específico.",
                "operationId": "fcmTokensDestroyCurrentSessionTokens",
                "responses": {
                    "200": {
                        "description": "Tokens de la sesión eliminados",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Se eliminaron 2 tokens FCM asociados a la sesión actual."
                                        },
                                        "data": {
                                            "type": "null"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "No hay sesión activa",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/notifications": {
            "get": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Listar notificaciones",
                "description": "Obtiene una lista paginada de notificaciones del usuario autenticado. Puede filtrar solo no leídas y por tipo de notificación.",
                "operationId": "notificationsIndex",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página (por defecto: 1)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Cantidad de elementos por página (por defecto: 15)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    },
                    {
                        "name": "order_by",
                        "in": "query",
                        "description": "Campo por el que ordenar (created_at, updated_at)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "created_at"
                        }
                    },
                    {
                        "name": "order_direction",
                        "in": "query",
                        "description": "Dirección del ordenamiento (asc, desc)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "asc",
                                "desc"
                            ],
                            "example": "desc"
                        }
                    },
                    {
                        "name": "unread_only",
                        "in": "query",
                        "description": "Mostrar solo notificaciones no leídas (true, false)",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": false
                        }
                    },
                    {
                        "name": "type",
                        "in": "query",
                        "description": "Filtrar por tipo de notificación (ej: App\\Notifications\\PedidoCreado)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "App\\Notifications\\PedidoCreado"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de notificaciones obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Lista de notificaciones obtenida exitosamente"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "example": "App\\Notifications\\PedidoCreado"
                                                    },
                                                    "notifiable_id": {
                                                        "description": "ID del usuario que recibe la notificación",
                                                        "type": "string",
                                                        "format": "uuid"
                                                    },
                                                    "data": {
                                                        "description": "Datos específicos de la notificación",
                                                        "type": "object"
                                                    },
                                                    "read_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": null,
                                                        "nullable": true
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-11-22T10:30:00Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-11-22T10:30:00Z"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "pagination": {
                                            "properties": {
                                                "total": {
                                                    "type": "integer",
                                                    "example": 125
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 9
                                                },
                                                "from": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "to": {
                                                    "type": "integer",
                                                    "example": 15
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación en parámetros",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/notifications/{notificationId}": {
            "get": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Obtener detalles de una notificación",
                "description": "Retorna la información completa de una notificación específica. Solo el usuario puede ver sus propias notificaciones.",
                "operationId": "notificationsShow",
                "parameters": [
                    {
                        "name": "notificationId",
                        "in": "path",
                        "description": "UUID de la notificación",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Notificación obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Notificación obtenida exitosamente"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "type": {
                                                    "type": "string",
                                                    "example": "App\\Notifications\\PedidoCreado"
                                                },
                                                "notifiable_id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "data": {
                                                    "type": "object"
                                                },
                                                "read_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "nullable": true
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Notificación no encontrada o no pertenece al usuario",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Eliminar una notificación",
                "description": "Elimina una notificación específica del usuario. Solo puede eliminarse notificaciones propias.",
                "operationId": "notificationsDestroy",
                "parameters": [
                    {
                        "name": "notificationId",
                        "in": "path",
                        "description": "UUID de la notificación",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Notificación eliminada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Notificación eliminada exitosamente"
                                        },
                                        "data": {
                                            "type": "null"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Notificación no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/notifications/{notificationId}/marcar-leida": {
            "patch": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Marcar notificación como leída",
                "description": "Marca una notificación específica como leída. Si ya estaba leída, no hace cambios.",
                "operationId": "notificationsMarkAsRead",
                "parameters": [
                    {
                        "name": "notificationId",
                        "in": "path",
                        "description": "UUID de la notificación",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Notificación marcada como leída",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Notificación marcada como leída"
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid"
                                                },
                                                "type": {
                                                    "type": "string"
                                                },
                                                "read_at": {
                                                    "description": "Fecha/hora cuando se marcó como leída",
                                                    "type": "string",
                                                    "format": "date-time"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Notificación no encontrada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/notifications/marcar-todas-leidas": {
            "patch": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Marcar todas las notificaciones como leídas",
                "description": "Marca todas las notificaciones no leídas del usuario como leídas de una sola vez.",
                "operationId": "notificationsMarkAllAsRead",
                "responses": {
                    "200": {
                        "description": "Todas las notificaciones marcadas como leídas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Se marcaron 5 notificaciones como leídas"
                                        },
                                        "data": {
                                            "properties": {
                                                "updated_count": {
                                                    "description": "Cantidad de notificaciones actualizadas",
                                                    "type": "integer",
                                                    "example": 5
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/notifications/unread/count": {
            "get": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Obtener cantidad de notificaciones no leídas",
                "description": "Retorna la cantidad de notificaciones no leídas del usuario autenticado.",
                "operationId": "notificationsGetUnreadCount",
                "responses": {
                    "200": {
                        "description": "Conteo obtenido exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Conteo de notificaciones no leídas obtenido"
                                        },
                                        "data": {
                                            "properties": {
                                                "unread_count": {
                                                    "type": "integer",
                                                    "example": 5
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/notifications/limpiar-leidas": {
            "delete": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Eliminar todas las notificaciones leídas",
                "description": "Elimina todas las notificaciones que ya fueron leídas. Útil para mantener limpia la bandeja.",
                "operationId": "notificationsClearRead",
                "responses": {
                    "200": {
                        "description": "Notificaciones leídas eliminadas",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Se eliminaron 12 notificaciones leídas"
                                        },
                                        "data": {
                                            "properties": {
                                                "deleted_count": {
                                                    "description": "Cantidad de notificaciones eliminadas",
                                                    "type": "integer",
                                                    "example": 12
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/admins": {
            "get": {
                "tags": [
                    "User",
                    "Admin"
                ],
                "summary": "Listar usuarios administradores",
                "description": "Obtiene una lista paginada de usuarios administradores. Soporta filtrado por estado activo y búsqueda por nombre o email, con ordenamiento personalizable.",
                "operationId": "adminUsersIndex",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página (por defecto: 1)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Cantidad de elementos por página (por defecto: 15)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    },
                    {
                        "name": "order_by",
                        "in": "query",
                        "description": "Campo por el que ordenar (created_at, updated_at, name, email, is_active)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "created_at"
                        }
                    },
                    {
                        "name": "order_direction",
                        "in": "query",
                        "description": "Dirección del ordenamiento (asc, desc)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "asc",
                                "desc"
                            ],
                            "example": "desc"
                        }
                    },
                    {
                        "name": "is_active",
                        "in": "query",
                        "description": "Filtrar por estado activo (true, false)",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Búsqueda por nombre o email",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "admin"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de administradores obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mostrando todos los usuarios administradores."
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Admin User"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "format": "email",
                                                        "example": "admin@example.com"
                                                    },
                                                    "avatar": {
                                                        "description": "URL firmada de la foto de perfil",
                                                        "type": "string",
                                                        "format": "url",
                                                        "example": "https://example.com/storage/signed-url",
                                                        "nullable": true
                                                    },
                                                    "is_active": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-11-22T10:30:00Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-11-22T10:30:00Z"
                                                    },
                                                    "roles": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "string"
                                                        },
                                                        "example": [
                                                            "administrador"
                                                        ]
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "pagination": {
                                            "properties": {
                                                "total": {
                                                    "type": "integer",
                                                    "example": 42
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "from": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "to": {
                                                    "type": "integer",
                                                    "example": 15
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación en parámetros de paginación o filtrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "User",
                    "Admin"
                ],
                "summary": "Crear nuevo usuario administrador",
                "description": "Registra un nuevo usuario administrador en el sistema. Se genera automáticamente un token de acceso para inicio de sesión inmediato.",
                "operationId": "adminUsersRegister",
                "requestBody": {
                    "description": "Datos del nuevo administrador",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password",
                                    "password_confirmation",
                                    "device_name"
                                ],
                                "properties": {
                                    "name": {
                                        "description": "Nombre completo del administrador",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Juan García"
                                    },
                                    "email": {
                                        "description": "Email único del administrador",
                                        "type": "string",
                                        "format": "email",
                                        "maxLength": 255,
                                        "example": "juan@example.com"
                                    },
                                    "password": {
                                        "description": "Contraseña del administrador (mín 8 caracteres, debe incluir mayúscula, número y símbolo)",
                                        "type": "string",
                                        "format": "password",
                                        "example": "SecurePass123!"
                                    },
                                    "password_confirmation": {
                                        "description": "Confirmación de la contraseña",
                                        "type": "string",
                                        "format": "password",
                                        "example": "SecurePass123!"
                                    },
                                    "device_name": {
                                        "description": "Nombre del dispositivo para identificar la sesión",
                                        "type": "string",
                                        "example": "Web - Chrome"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Administrador registrado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario registrado exitosamente."
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "string",
                                                            "format": "uuid",
                                                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Juan García"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "format": "email",
                                                            "example": "juan@example.com"
                                                        },
                                                        "avatar": {
                                                            "type": "string",
                                                            "format": "url",
                                                            "example": null,
                                                            "nullable": true
                                                        },
                                                        "is_active": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "created_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "2025-11-22T10:30:00Z"
                                                        },
                                                        "updated_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "2025-11-22T10:30:00Z"
                                                        },
                                                        "roles": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "example": [
                                                                "administrador"
                                                            ]
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "access_token": {
                                                    "description": "Token de acceso Sanctum para sesión inmediata",
                                                    "type": "string",
                                                    "example": "1|abcd1234efgh5678ijkl9012mnop3456qrst7890uvwx"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación - Datos inválidos o email ya existe",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/admins/{userId}": {
            "get": {
                "tags": [
                    "User",
                    "Admin"
                ],
                "summary": "Obtener detalles de un administrador",
                "description": "Retorna la información completa de un usuario administrador específico, incluyendo sus roles.",
                "operationId": "adminUsersShow",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "description": "UUID del administrador",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Información del administrador obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mostrando datos del usuario administrador."
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Juan García"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "format": "email",
                                                    "example": "juan@example.com"
                                                },
                                                "avatar": {
                                                    "type": "string",
                                                    "format": "url",
                                                    "example": "https://example.com/storage/signed-url",
                                                    "nullable": true
                                                },
                                                "is_active": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-11-22T10:30:00Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-11-22T10:30:00Z"
                                                },
                                                "roles": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "administrador"
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario administrador no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "User",
                    "Admin"
                ],
                "summary": "Actualizar datos de un administrador",
                "description": "Actualiza la información de un usuario administrador. Los campos son opcionales; solo se actualizan los que se envían. Si se proporciona contraseña, debe incluirse la confirmación.",
                "operationId": "adminUsersUpdate",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "description": "UUID del administrador",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Datos a actualizar del administrador",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "description": "Nombre completo (opcional)",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Juan Carlos García"
                                    },
                                    "email": {
                                        "description": "Email único (opcional)",
                                        "type": "string",
                                        "format": "email",
                                        "maxLength": 255,
                                        "example": "juan.garcia@example.com"
                                    },
                                    "password": {
                                        "description": "Nueva contraseña (opcional, requiere password_confirmation)",
                                        "type": "string",
                                        "format": "password",
                                        "example": "NewSecurePass123!"
                                    },
                                    "password_confirmation": {
                                        "description": "Confirmación de nueva contraseña",
                                        "type": "string",
                                        "format": "password",
                                        "example": "NewSecurePass123!"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Administrador actualizado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Los datos del usuario han sido actualizados."
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Juan Carlos García"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "format": "email",
                                                    "example": "juan.garcia@example.com"
                                                },
                                                "avatar": {
                                                    "type": "string",
                                                    "format": "url",
                                                    "example": "https://example.com/storage/signed-url",
                                                    "nullable": true
                                                },
                                                "is_active": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-11-22T10:30:00Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-11-22T15:45:00Z"
                                                },
                                                "roles": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "administrador"
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "No se recibió información para actualizar",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario administrador no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación - Datos inválidos o email duplicado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "User",
                    "Admin"
                ],
                "summary": "Eliminar un usuario administrador",
                "description": "Elimina un usuario administrador del sistema. Se revoca automáticamente todos sus tokens activos. No permite eliminar el último administrador del sistema.",
                "operationId": "adminUsersDestroy",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "description": "UUID del administrador a eliminar",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Administrador eliminado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario administrador ha sido eliminado exitosamente."
                                        },
                                        "data": {
                                            "type": "null",
                                            "example": null
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario administrador no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "No se puede eliminar el último usuario administrador del sistema",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "error"
                                            ],
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "No se puede eliminar el último usuario administrador del sistema."
                                        },
                                        "error": {
                                            "properties": {
                                                "code": {
                                                    "type": "string",
                                                    "example": "CONFLICT"
                                                },
                                                "errors": {
                                                    "type": "null"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/{userId}/activo": {
            "patch": {
                "tags": [
                    "User",
                    "Base"
                ],
                "summary": "Activar o desactivar usuario",
                "description": "Activa o desactiva un usuario. Los administradores no pueden desactivarse a sí mismos ni puede haber solo uno activo en el sistema.",
                "operationId": "userToggleActive",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "description": "UUID del usuario",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Nuevo estado activo",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "is_active"
                                ],
                                "properties": {
                                    "is_active": {
                                        "type": "boolean",
                                        "example": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Estado actualizado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El estado activo de la cuenta ha sido actualizado."
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "No se puede desactivar el último administrador activo",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Valor inválido para is_active",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/{userId}/avatar": {
            "post": {
                "tags": [
                    "User",
                    "Base"
                ],
                "summary": "Subir o actualizar foto de perfil",
                "description": "Carga o actualiza la foto de perfil del usuario. Puede omitirse el archivo para eliminar la foto actual.",
                "operationId": "userUploadPicture",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "description": "UUID del usuario",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Archivo de imagen",
                    "required": false,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "avatar": {
                                        "description": "Imagen JPEG/PNG. Opcional - si se omite, elimina la foto actual",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Foto de perfil actualizada o eliminada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Foto de perfil actualizada correctamente."
                                        },
                                        "data": {
                                            "properties": {
                                                "url": {
                                                    "description": "URL firmada para descargar la imagen",
                                                    "type": "string",
                                                    "format": "url",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Archivo inválido",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al procesar la imagen",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServerErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/farmacias": {
            "get": {
                "tags": [
                    "User",
                    "Farmacia"
                ],
                "summary": "Listar usuarios de farmacias",
                "description": "Obtiene una lista paginada de usuarios con rol de farmacia. Los usuarios farmacia solo pueden ver sus propios usuarios. Soporta búsqueda por nombre o email, y filtrado por estado activo.",
                "operationId": "farmaciaUsersIndex",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página (por defecto: 1)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Cantidad de elementos por página (por defecto: 15)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    },
                    {
                        "name": "order_by",
                        "in": "query",
                        "description": "Campo por el que ordenar (created_at, updated_at, name, email, is_active)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "created_at"
                        }
                    },
                    {
                        "name": "order_direction",
                        "in": "query",
                        "description": "Dirección del ordenamiento (asc, desc)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "asc",
                                "desc"
                            ],
                            "example": "desc"
                        }
                    },
                    {
                        "name": "is_active",
                        "in": "query",
                        "description": "Filtrar por estado activo (true, false)",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Búsqueda por nombre o email",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "farmacia"
                        }
                    },
                    {
                        "name": "farmacia_id",
                        "in": "query",
                        "description": "Filtrar por ID de farmacia (solo administradores)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de usuarios de farmacias obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mostrando los usuarios de farmacias."
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Gerente Farmacia"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "format": "email",
                                                        "example": "gerente@farmacia.com"
                                                    },
                                                    "avatar": {
                                                        "type": "string",
                                                        "format": "url",
                                                        "example": "https://example.com/storage/signed-url",
                                                        "nullable": true
                                                    },
                                                    "is_active": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-11-22T10:30:00Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-11-22T10:30:00Z"
                                                    },
                                                    "roles": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "string"
                                                        },
                                                        "example": [
                                                            "farmacia"
                                                        ]
                                                    },
                                                    "perfil_farmacia": {
                                                        "description": "Perfil de la farmacia del usuario",
                                                        "type": "object",
                                                        "nullable": true
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "pagination": {
                                            "properties": {
                                                "total": {
                                                    "type": "integer",
                                                    "example": 25
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 2
                                                },
                                                "from": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "to": {
                                                    "type": "integer",
                                                    "example": 15
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación en parámetros",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "User",
                    "Farmacia"
                ],
                "summary": "Crear nuevo usuario de farmacia",
                "description": "Registra un nuevo usuario con rol de farmacia en el sistema. Se genera automáticamente un token de acceso para sesión inmediata.",
                "operationId": "farmaciaUsersRegister",
                "requestBody": {
                    "description": "Datos del nuevo usuario de farmacia",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password",
                                    "password_confirmation",
                                    "device_name",
                                    "farmacia_id"
                                ],
                                "properties": {
                                    "name": {
                                        "description": "Nombre completo del usuario",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Gerente Farmacia"
                                    },
                                    "email": {
                                        "description": "Email único del usuario",
                                        "type": "string",
                                        "format": "email",
                                        "maxLength": 255,
                                        "example": "gerente@farmacia.com"
                                    },
                                    "password": {
                                        "description": "Contraseña (mín 8 caracteres, mayúscula, número y símbolo)",
                                        "type": "string",
                                        "format": "password",
                                        "example": "SecurePass123!"
                                    },
                                    "password_confirmation": {
                                        "description": "Confirmación de contraseña",
                                        "type": "string",
                                        "format": "password",
                                        "example": "SecurePass123!"
                                    },
                                    "device_name": {
                                        "description": "Nombre del dispositivo para identificar sesión",
                                        "type": "string",
                                        "example": "Web - Chrome"
                                    },
                                    "farmacia_id": {
                                        "description": "ID de la farmacia asociada",
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Usuario de farmacia registrado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario farmacia registrado exitosamente"
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "string",
                                                            "format": "uuid",
                                                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Gerente Farmacia"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "format": "email",
                                                            "example": "gerente@farmacia.com"
                                                        },
                                                        "avatar": {
                                                            "type": "string",
                                                            "format": "url",
                                                            "example": null,
                                                            "nullable": true
                                                        },
                                                        "is_active": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "created_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "2025-11-22T10:30:00Z"
                                                        },
                                                        "updated_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "2025-11-22T10:30:00Z"
                                                        },
                                                        "roles": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "example": [
                                                                "farmacia"
                                                            ]
                                                        },
                                                        "perfil_farmacia": {
                                                            "description": "Perfil de la farmacia",
                                                            "type": "object",
                                                            "nullable": true
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "access_token": {
                                                    "description": "Token de acceso Sanctum",
                                                    "type": "string",
                                                    "example": "1|abcd1234efgh5678ijkl9012mnop3456qrst7890uvwx"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación - Datos inválidos o email duplicado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/farmacias/{perfilFarmaciaId}": {
            "get": {
                "tags": [
                    "User",
                    "Farmacia"
                ],
                "summary": "Obtener detalles de un usuario de farmacia",
                "description": "Retorna la información completa de un usuario de farmacia específico, incluyendo su perfil de farmacia.",
                "operationId": "farmaciaUsersShow",
                "parameters": [
                    {
                        "name": "perfilFarmaciaId",
                        "in": "path",
                        "description": "UUID del perfil de farmacia",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Información del usuario de farmacia obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mostrando datos del usuario de farmacia."
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Gerente Farmacia"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "format": "email",
                                                    "example": "gerente@farmacia.com"
                                                },
                                                "avatar": {
                                                    "type": "string",
                                                    "format": "url",
                                                    "example": "https://example.com/storage/signed-url",
                                                    "nullable": true
                                                },
                                                "is_active": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-11-22T10:30:00Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-11-22T10:30:00Z"
                                                },
                                                "roles": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "farmacia"
                                                    ]
                                                },
                                                "perfil_farmacia": {
                                                    "description": "Perfil de la farmacia",
                                                    "type": "object",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario de farmacia no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "User",
                    "Farmacia"
                ],
                "summary": "Actualizar datos de un usuario de farmacia",
                "description": "Actualiza la información de un usuario de farmacia. Los campos son opcionales; solo se actualizan los que se envían.",
                "operationId": "farmaciaUsersUpdate",
                "parameters": [
                    {
                        "name": "perfilFarmaciaId",
                        "in": "path",
                        "description": "UUID del perfil de farmacia",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Datos a actualizar del usuario",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "description": "Nombre completo (opcional)",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Gerente Farmacia Principal"
                                    },
                                    "email": {
                                        "description": "Email único (opcional)",
                                        "type": "string",
                                        "format": "email",
                                        "maxLength": 255,
                                        "example": "gerente.principal@farmacia.com"
                                    },
                                    "password": {
                                        "description": "Nueva contraseña (opcional, requiere confirmation)",
                                        "type": "string",
                                        "format": "password",
                                        "example": "NewSecurePass123!"
                                    },
                                    "password_confirmation": {
                                        "description": "Confirmación de contraseña",
                                        "type": "string",
                                        "format": "password",
                                        "example": "NewSecurePass123!"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Usuario de farmacia actualizado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Los datos del usuario han sido actualizados."
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string",
                                                    "format": "uuid",
                                                    "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "Gerente Farmacia Principal"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "format": "email",
                                                    "example": "gerente.principal@farmacia.com"
                                                },
                                                "avatar": {
                                                    "type": "string",
                                                    "format": "url",
                                                    "example": "https://example.com/storage/signed-url",
                                                    "nullable": true
                                                },
                                                "is_active": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-11-22T10:30:00Z"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-11-22T15:45:00Z"
                                                },
                                                "roles": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    },
                                                    "example": [
                                                        "farmacia"
                                                    ]
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "No se recibió información para actualizar",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario de farmacia no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación - Datos inválidos o email duplicado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "User",
                    "Farmacia"
                ],
                "summary": "Eliminar un usuario de farmacia",
                "description": "Elimina un usuario de farmacia del sistema. Se revoca automáticamente todos sus tokens activos y se elimina su perfil de farmacia.",
                "operationId": "farmaciaUsersDestroy",
                "parameters": [
                    {
                        "name": "perfilFarmaciaId",
                        "in": "path",
                        "description": "UUID del perfil de farmacia",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid",
                            "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Usuario de farmacia eliminado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario de farmacia ha sido eliminado exitosamente."
                                        },
                                        "data": {
                                            "type": "null",
                                            "example": null
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Usuario de farmacia no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/repartidores": {
            "get": {
                "tags": [
                    "User",
                    "Repartidor"
                ],
                "summary": "Listar usuarios repartidores",
                "description": "Obtiene una lista paginada de usuarios repartidores. Soporta filtrado por estado activo, verificación, código país, rango de fechas y búsqueda por nombre/email.",
                "operationId": "repartidorUsersIndex",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Número de página (por defecto: 1)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Cantidad de elementos por página (por defecto: 15)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 15
                        }
                    },
                    {
                        "name": "order_by",
                        "in": "query",
                        "description": "Campo por el que ordenar (created_at, updated_at, name, email, is_active)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "created_at"
                        }
                    },
                    {
                        "name": "order_direction",
                        "in": "query",
                        "description": "Dirección del ordenamiento (asc, desc)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "asc",
                                "desc"
                            ],
                            "example": "desc"
                        }
                    },
                    {
                        "name": "is_active",
                        "in": "query",
                        "description": "Filtrar por estado activo (true, false)",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "description": "Búsqueda por nombre o email",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "example": "juan"
                        }
                    },
                    {
                        "name": "codigo_iso_pais",
                        "in": "query",
                        "description": "Filtrar por código ISO de país (puede ser múltiple)",
                        "required": false,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            },
                            "example": [
                                "CO",
                                "MX"
                            ]
                        }
                    },
                    {
                        "name": "estado",
                        "in": "query",
                        "description": "Filtrar por estado del repartidor",
                        "required": false,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "enum": [
                                    "activo",
                                    "inactivo",
                                    "suspendido"
                                ]
                            }
                        }
                    },
                    {
                        "name": "verificado",
                        "in": "query",
                        "description": "Filtrar por estado de verificación (true, false)",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "example": true
                        }
                    },
                    {
                        "name": "fecha_desde",
                        "in": "query",
                        "description": "Filtrar por fecha de creación desde",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2025-01-01"
                        }
                    },
                    {
                        "name": "fecha_hasta",
                        "in": "query",
                        "description": "Filtrar por fecha de creación hasta",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2025-12-31"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de repartidores obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mostrando todos los usuarios repartidores."
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "Juan García"
                                                    },
                                                    "email": {
                                                        "type": "string",
                                                        "format": "email",
                                                        "example": "juan@example.com"
                                                    },
                                                    "avatar": {
                                                        "type": "string",
                                                        "format": "url",
                                                        "example": "https://example.com/storage/signed-url",
                                                        "nullable": true
                                                    },
                                                    "is_active": {
                                                        "type": "boolean",
                                                        "example": true
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-11-22T10:30:00Z"
                                                    },
                                                    "updated_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "2025-11-22T10:30:00Z"
                                                    },
                                                    "roles": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "string"
                                                        },
                                                        "example": [
                                                            "repartidor"
                                                        ]
                                                    },
                                                    "perfil_repartidor": {
                                                        "description": "Perfil del repartidor con documentos y vehículo",
                                                        "type": "object",
                                                        "nullable": true
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "pagination": {
                                            "properties": {
                                                "total": {
                                                    "type": "integer",
                                                    "example": 150
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 10
                                                },
                                                "from": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "to": {
                                                    "type": "integer",
                                                    "example": 15
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación en parámetros",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "User",
                    "Repartidor"
                ],
                "summary": "Crear nuevo usuario repartidor",
                "description": "Registra un nuevo usuario repartidor en el sistema con información básica y datos del perfil. Se genera un token de acceso para sesión inmediata.",
                "operationId": "repartidorUsersRegister",
                "requestBody": {
                    "description": "Datos del nuevo repartidor",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password",
                                    "password_confirmation",
                                    "device_name",
                                    "codigo_iso_pais",
                                    "telefono"
                                ],
                                "properties": {
                                    "name": {
                                        "description": "Nombre completo",
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Juan García López"
                                    },
                                    "email": {
                                        "description": "Email único",
                                        "type": "string",
                                        "format": "email",
                                        "maxLength": 255,
                                        "example": "juan@example.com"
                                    },
                                    "password": {
                                        "description": "Contraseña",
                                        "type": "string",
                                        "format": "password",
                                        "example": "SecurePass123!"
                                    },
                                    "password_confirmation": {
                                        "description": "Confirmación",
                                        "type": "string",
                                        "format": "password",
                                        "example": "SecurePass123!"
                                    },
                                    "device_name": {
                                        "description": "Nombre del dispositivo",
                                        "type": "string",
                                        "example": "iPhone 15"
                                    },
                                    "codigo_iso_pais": {
                                        "description": "Código ISO del país",
                                        "type": "string",
                                        "example": "CO"
                                    },
                                    "telefono": {
                                        "description": "Número de teléfono",
                                        "type": "string",
                                        "example": "+573001234567"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Repartidor registrado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ],
                                            "example": "success"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Usuario repartidor registrado exitosamente"
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "string",
                                                            "format": "uuid"
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Juan García López"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "format": "email",
                                                            "example": "juan@example.com"
                                                        },
                                                        "roles": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "string"
                                                            },
                                                            "example": [
                                                                "repartidor"
                                                            ]
                                                        },
                                                        "perfil_repartidor": {
                                                            "description": "Perfil del repartidor",
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "access_token": {
                                                    "description": "Token de acceso",
                                                    "type": "string",
                                                    "example": "1|abcd..."
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/repartidores/{perfilRepartidorId}": {
            "get": {
                "tags": [
                    "User",
                    "Repartidor"
                ],
                "summary": "Obtener detalles de un repartidor",
                "description": "Retorna la información completa de un repartidor incluyendo documentos verificables.",
                "operationId": "repartidorUsersShow",
                "parameters": [
                    {
                        "name": "perfilRepartidorId",
                        "in": "path",
                        "description": "UUID del perfil de repartidor",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Información del repartidor obtenida",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ]
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Mostrando datos del usuario repartidor."
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Repartidor no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "User",
                    "Repartidor"
                ],
                "summary": "Actualizar datos de un repartidor",
                "description": "Actualiza información del usuario y/o perfil del repartidor. Se puede actualizar datos básicos o específicos del perfil repartidor.",
                "operationId": "repartidorUsersUpdate",
                "parameters": [
                    {
                        "name": "perfilRepartidorId",
                        "in": "path",
                        "description": "UUID del perfil de repartidor",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Datos a actualizar",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "description": "Nombre (opcional)",
                                        "type": "string"
                                    },
                                    "email": {
                                        "description": "Email (opcional)",
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "description": "Contraseña (opcional)",
                                        "type": "string",
                                        "format": "password"
                                    },
                                    "password_confirmation": {
                                        "description": "Confirmación",
                                        "type": "string",
                                        "format": "password"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Repartidor actualizado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ]
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Los datos del usuario han sido actualizados."
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "No se recibió información para actualizar",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequestResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Repartidor no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Error de validación",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "User",
                    "Repartidor"
                ],
                "summary": "Eliminar un repartidor",
                "description": "Elimina un repartidor del sistema. Se revoca automáticamente todos sus tokens y se elimina su perfil.",
                "operationId": "repartidorUsersDestroy",
                "parameters": [
                    {
                        "name": "perfilRepartidorId",
                        "in": "path",
                        "description": "UUID del perfil de repartidor",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Repartidor eliminado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ]
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El usuario repartidor ha sido eliminado exitosamente."
                                        },
                                        "data": {
                                            "type": "null"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Repartidor no encontrado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFoundResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/repartidores/{perfilRepartidorId}/estado": {
            "patch": {
                "tags": [
                    "User",
                    "Repartidor"
                ],
                "summary": "Actualizar estado del repartidor",
                "description": "Actualiza el estado operacional del repartidor (activo, inactivo, suspendido).",
                "operationId": "repartidorUsersUpdateEstado",
                "parameters": [
                    {
                        "name": "perfilRepartidorId",
                        "in": "path",
                        "description": "UUID del perfil de repartidor",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Nuevo estado",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "estado"
                                ],
                                "properties": {
                                    "estado": {
                                        "type": "string",
                                        "enum": [
                                            "activo",
                                            "inactivo",
                                            "suspendido"
                                        ],
                                        "example": "activo"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Estado actualizado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ]
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El estado del repartidor ha sido actualizado"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Estado inválido",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/repartidores/{perfilRepartidorId}/verificado": {
            "patch": {
                "tags": [
                    "User",
                    "Repartidor"
                ],
                "summary": "Actualizar estado de verificación",
                "description": "Marca un repartidor como verificado o no verificado después de validar sus documentos.",
                "operationId": "repartidorUsersUpdateVerificado",
                "parameters": [
                    {
                        "name": "perfilRepartidorId",
                        "in": "path",
                        "description": "UUID del perfil de repartidor",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Estado de verificación",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "verificado"
                                ],
                                "properties": {
                                    "verificado": {
                                        "type": "boolean",
                                        "example": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Verificación actualizada",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ]
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "El estado verificado del repartidor ha sido actualizado."
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Valor inválido",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/repartidores/{perfilRepartidorId}/documentos/dni": {
            "post": {
                "tags": [
                    "User",
                    "Repartidor"
                ],
                "summary": "Subir foto de documento de identidad",
                "description": "Carga la foto del documento de identidad del repartidor. Reemplaza la anterior si existe.",
                "operationId": "repartidorUploadFotoDni",
                "parameters": [
                    {
                        "name": "perfilRepartidorId",
                        "in": "path",
                        "description": "UUID del perfil de repartidor",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Archivo de imagen",
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "foto_dni_id"
                                ],
                                "properties": {
                                    "foto_dni_id": {
                                        "description": "Imagen JPEG/PNG del documento",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Documento subido exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ]
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "La foto de su documento de identidad ha sido actualizada correctamente."
                                        },
                                        "data": {
                                            "properties": {
                                                "url": {
                                                    "description": "URL firmada para descargar la imagen",
                                                    "type": "string",
                                                    "format": "url"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Archivo inválido o no enviado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al guardar el archivo",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServerErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/repartidores/{perfilRepartidorId}/documentos/licencia": {
            "post": {
                "tags": [
                    "User",
                    "Repartidor"
                ],
                "summary": "Subir foto de licencia de conducir",
                "description": "Carga la foto de la licencia de conducir del repartidor. Reemplaza la anterior si existe.",
                "operationId": "repartidorUploadFotoLicencia",
                "parameters": [
                    {
                        "name": "perfilRepartidorId",
                        "in": "path",
                        "description": "UUID del perfil de repartidor",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Archivo de imagen",
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "foto_licencia"
                                ],
                                "properties": {
                                    "foto_licencia": {
                                        "description": "Imagen JPEG/PNG de la licencia",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Licencia subida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ]
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "La foto de su licencia de conducir ha sido actualizada correctamente."
                                        },
                                        "data": {
                                            "properties": {
                                                "url": {
                                                    "type": "string",
                                                    "format": "url"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Archivo inválido",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al guardar",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServerErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/users/repartidores/{perfilRepartidorId}/documentos/seguro": {
            "post": {
                "tags": [
                    "User",
                    "Repartidor"
                ],
                "summary": "Subir foto de seguro del vehículo",
                "description": "Carga la foto del seguro del vehículo del repartidor. Reemplaza la anterior si existe.",
                "operationId": "repartidorUploadFotoSeguroVehiculo",
                "parameters": [
                    {
                        "name": "perfilRepartidorId",
                        "in": "path",
                        "description": "UUID del perfil de repartidor",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Archivo de imagen",
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "foto_seguro_vehiculo"
                                ],
                                "properties": {
                                    "foto_seguro_vehiculo": {
                                        "description": "Imagen JPEG/PNG del seguro",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Seguro subido exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "enum": [
                                                "success"
                                            ]
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "La foto del seguro de su vehículo ha sido actualizada correctamente."
                                        },
                                        "data": {
                                            "properties": {
                                                "url": {
                                                    "type": "string",
                                                    "format": "url"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnauthorizedResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Archivo inválido",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ValidationErrorResponse"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error al guardar",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServerErrorResponse"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "Error": {
                "description": "Estructura base de error en la respuesta",
                "properties": {
                    "code": {
                        "description": "Código de error único",
                        "type": "string",
                        "example": "VALIDATION_ERROR"
                    },
                    "errors": {
                        "description": "Mapa de errores por campo (opcional)",
                        "type": "object",
                        "example": {
                            "email": [
                                "Las credenciales proporcionadas son incorrectas."
                            ]
                        },
                        "nullable": true,
                        "additionalProperties": true
                    }
                },
                "type": "object"
            },
            "BadRequestResponse": {
                "description": "Respuesta 400 - Solicitud malformada",
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": [
                            "fail"
                        ],
                        "example": "fail"
                    },
                    "message": {
                        "type": "string",
                        "example": "La solicitud no pudo ser procesada debido a una sintaxis inválida o datos incorrectos."
                    },
                    "error": {
                        "$ref": "#/components/schemas/Error"
                    }
                },
                "type": "object"
            },
            "UnauthorizedResponse": {
                "description": "Respuesta 401 - No autenticado",
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": [
                            "fail"
                        ],
                        "example": "fail"
                    },
                    "message": {
                        "type": "string",
                        "example": "No autenticado. Por favor, inicie sesión."
                    },
                    "error": {
                        "properties": {
                            "code": {
                                "type": "string",
                                "enum": [
                                    "UNAUTHORIZED"
                                ],
                                "example": "UNAUTHORIZED"
                            },
                            "errors": {
                                "type": "null"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "ForbiddenResponse": {
                "description": "Respuesta 403 - Acceso prohibido/No tiene permiso",
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": [
                            "fail"
                        ],
                        "example": "fail"
                    },
                    "message": {
                        "type": "string",
                        "example": "No tiene permiso para realizar esta acción."
                    },
                    "error": {
                        "properties": {
                            "code": {
                                "type": "string",
                                "enum": [
                                    "FORBIDDEN"
                                ],
                                "example": "FORBIDDEN"
                            },
                            "errors": {
                                "type": "null"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "NotFoundResponse": {
                "description": "Respuesta 404 - Recurso no encontrado",
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": [
                            "fail"
                        ],
                        "example": "fail"
                    },
                    "message": {
                        "type": "string",
                        "example": "El recurso solicitado no fue encontrado."
                    },
                    "error": {
                        "properties": {
                            "code": {
                                "type": "string",
                                "enum": [
                                    "NOT_FOUND"
                                ],
                                "example": "NOT_FOUND"
                            },
                            "errors": {
                                "type": "null"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "ValidationErrorResponse": {
                "description": "Respuesta 422 - Error de validación en los datos",
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": [
                            "fail"
                        ],
                        "example": "fail"
                    },
                    "message": {
                        "type": "string",
                        "example": "Los datos proporcionados no son válidos."
                    },
                    "error": {
                        "properties": {
                            "code": {
                                "type": "string",
                                "enum": [
                                    "VALIDATION_ERROR"
                                ],
                                "example": "VALIDATION_ERROR"
                            },
                            "errors": {
                                "description": "Errores de validación por campo",
                                "type": "object",
                                "example": {
                                    "email": [
                                        "Email es requerido"
                                    ],
                                    "password": [
                                        "Password debe tener al menos 8 caracteres"
                                    ]
                                },
                                "additionalProperties": true
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "MethodNotAllowedResponse": {
                "description": "Respuesta 405 - Método HTTP no permitido",
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": [
                            "fail"
                        ],
                        "example": "fail"
                    },
                    "message": {
                        "type": "string",
                        "example": "Método HTTP no permitido para esta ruta."
                    },
                    "error": {
                        "properties": {
                            "code": {
                                "type": "string",
                                "enum": [
                                    "METHOD_NOT_ALLOWED"
                                ],
                                "example": "METHOD_NOT_ALLOWED"
                            },
                            "errors": {
                                "type": "null"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "InvalidSignatureResponse": {
                "description": "Respuesta 403 - Enlace de descarga inválido o expirado",
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": [
                            "fail"
                        ],
                        "example": "fail"
                    },
                    "message": {
                        "type": "string",
                        "example": "El enlace de descarga es inválido o ha expirado. Por favor, solicite uno nuevo."
                    },
                    "error": {
                        "properties": {
                            "code": {
                                "type": "string",
                                "enum": [
                                    "INVALID_SIGNED_URL"
                                ],
                                "example": "INVALID_SIGNED_URL"
                            },
                            "errors": {
                                "type": "null"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "ServerErrorResponse": {
                "description": "Respuesta 500 - Error interno del servidor",
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": [
                            "error"
                        ],
                        "example": "error"
                    },
                    "message": {
                        "type": "string",
                        "example": "Error interno del servidor."
                    },
                    "error": {
                        "properties": {
                            "code": {
                                "type": "string",
                                "enum": [
                                    "SERVER_ERROR"
                                ],
                                "example": "SERVER_ERROR"
                            },
                            "errors": {
                                "type": "null"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "SuccessResponse": {
                "description": "Estructura genérica de respuesta exitosa",
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": [
                            "success"
                        ],
                        "example": "success"
                    },
                    "message": {
                        "type": "string",
                        "example": "Operación completada exitosamente."
                    },
                    "data": {
                        "description": "Datos de la respuesta",
                        "type": "object",
                        "nullable": true
                    },
                    "pagination": {
                        "description": "Información de paginación",
                        "type": "object",
                        "nullable": true
                    },
                    "cursor_pagination": {
                        "description": "Información de paginación por cursor",
                        "type": "object",
                        "nullable": true
                    },
                    "metadata": {
                        "description": "Metadatos adicionales",
                        "type": "object",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "PaginationInfo": {
                "description": "Información de paginación",
                "properties": {
                    "total": {
                        "type": "integer",
                        "example": 100
                    },
                    "count": {
                        "type": "integer",
                        "example": 10
                    },
                    "per_page": {
                        "type": "integer",
                        "example": 10
                    },
                    "current_page": {
                        "type": "integer",
                        "example": 1
                    },
                    "total_pages": {
                        "type": "integer",
                        "example": 10
                    },
                    "links": {
                        "properties": {
                            "first": {
                                "type": "string",
                                "format": "url",
                                "nullable": true
                            },
                            "last": {
                                "type": "string",
                                "format": "url",
                                "nullable": true
                            },
                            "next": {
                                "type": "string",
                                "format": "url",
                                "nullable": true
                            },
                            "prev": {
                                "type": "string",
                                "format": "url",
                                "nullable": true
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "CursorPaginationInfo": {
                "description": "Información de paginación por cursor",
                "properties": {
                    "next_cursor": {
                        "type": "string",
                        "nullable": true
                    },
                    "prev_cursor": {
                        "type": "string",
                        "nullable": true
                    },
                    "path": {
                        "type": "string",
                        "format": "url"
                    },
                    "per_page": {
                        "type": "integer"
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "sanctum": {
                "type": "http",
                "description": "Token de acceso Sanctum. Se obtiene en el endpoint de login.",
                "name": "Token based based auth",
                "in": "header",
                "bearerFormat": "Sanctum",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "Auth",
            "description": "Endpoints de autenticación y gestión de sesiones"
        },
        {
            "name": "Downloads",
            "description": "Downloads"
        },
        {
            "name": "FCM",
            "description": "FCM"
        },
        {
            "name": "Device Tokens",
            "description": "Device Tokens"
        },
        {
            "name": "Notifications",
            "description": "Notifications"
        },
        {
            "name": "User",
            "description": "User"
        },
        {
            "name": "Admin",
            "description": "Admin"
        },
        {
            "name": "Base",
            "description": "Base"
        },
        {
            "name": "Farmacia",
            "description": "Farmacia"
        },
        {
            "name": "Repartidor",
            "description": "Repartidor"
        }
    ]
}