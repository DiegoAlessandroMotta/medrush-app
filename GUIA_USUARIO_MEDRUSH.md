# Guía de Usuario Detallada - MedRush App

## Índice
1. [Introducción](#introducción)
2. [Módulo Repartidor - Paso a Paso](#módulo-repartidor---paso-a-paso)
3. [Módulo Administrador - Paso a Paso](#módulo-administrador---paso-a-paso)
4. [Solución de Problemas](#solución-de-problemas)
5. [Contacto y Soporte](#contacto-y-soporte)

---

## Introducción

MedRush es una aplicación móvil diseñada para optimizar la gestión de entregas de medicamentos. Esta guía te enseñará **paso a paso** cómo usar cada función y botón de la aplicación.

**Módulos disponibles:**
- **Módulo Repartidor**: Para personal de entrega
- **Módulo Administrador**: Para gestión y supervisión

---

## Módulo Repartidor - Paso a Paso

### **Pantalla Principal del Repartidor**

Al abrir la aplicación como repartidor, verás la pantalla principal con **4 botones de navegación** en la parte inferior:

```
[Entregas] [Historial] [Ruta] [Perfil]
```

**Botón central flotante**: Escáner de código de barras (visible en todas las pantallas excepto Ruta)

---

### **PANTALLA DE ENTREGAS** (Pantalla Principal)

#### **Paso 1: Ver la Lista de Pedidos**
1. **Al abrir la app**, automáticamente estás en la pantalla "Entregas"
2. **Verás una lista** de pedidos asignados a ti
3. **Cada pedido muestra**:
   - Número de pedido
   - Nombre del cliente
   - Dirección
   - Estado actual
   - Hora de entrega estimada

#### **Paso 2: Usar la Barra de Búsqueda**
1. **Toca el campo de búsqueda** en la parte superior
2. **Escribe** el nombre del cliente o número de pedido
3. **La lista se filtra** automáticamente mientras escribes

#### **Paso 3: Aplicar Filtros**
1. **Toca el botón "Filtrar"** (icono de embudo)
2. **Selecciona el estado** que quieres ver:
   - Pendiente
   - Asignado  
   - Recogido
   - En Ruta
   - Entregado
   - Fallido
   - Cancelado
3. **Toca "Aplicar"** para ver solo esos pedidos

#### **Paso 4: Ver Detalles de un Pedido**
1. **Toca cualquier pedido** de la lista
2. **Se abre una pantalla** con información completa:
   - Datos del cliente
   - Medicamentos a entregar
   - Dirección exacta
   - Instrucciones especiales
   - Teléfono de contacto

#### **Paso 5: Acciones Disponibles en Detalles**
En la pantalla de detalles verás estos botones:

**Llamar al Cliente**
1. **Toca el botón del teléfono**
2. **Se abre la aplicación de llamadas** con el número del cliente
3. **Realiza la llamada** normalmente

**Ver en Mapa**
1. **Toca el botón del mapa**
2. **Se abre la aplicación de mapas** con la dirección
3. **Inicia la navegación** si es necesario

**Marcar como Recogido**
1. **Toca "Marcar como Recogido"**
2. **Confirma la acción** en el diálogo
3. **El estado del pedido cambia** a "Recogido"

**Entregar Pedido**
1. **Toca "Entregar Pedido"**
2. **Se abre el proceso de entrega** (ver sección específica)

---

### **ESCÁNER DE CÓDIGO DE BARRAS**

#### **Paso 1: Abrir el Escáner**
1. **Toca el botón flotante** (icono de código de barras) en el centro
2. **Se abre la cámara** para escanear
3. **Apunta la cámara** al código de barras del pedido

#### **Paso 2: Escanear el Código**
1. **Mantén el código de barras** dentro del marco de la pantalla
2. **La app detecta automáticamente** el código
3. **Se busca el pedido** en la base de datos

#### **Paso 3: Resultado del Escaneo**
- **Si encuentra el pedido**: Se abre directamente la pantalla de entrega
- **Si no encuentra**: Aparece un mensaje de error

---

### **PROCESO DE ENTREGA COMPLETO**

#### **Paso 1: Iniciar Entrega**
1. **Desde la lista de pedidos** o **después de escanear**
2. **Toca "Entregar Pedido"**
3. **Se abre la pantalla de entrega**

#### **Paso 2: Verificar Datos**
1. **Revisa la información** del cliente
2. **Verifica los medicamentos** a entregar
3. **Confirma la dirección** de entrega

#### **Paso 3: Tomar Foto (Opcional)**
1. **Toca "Tomar Foto"**
2. **Se abre la cámara**
3. **Toma una foto** del paquete o la entrega
4. **Toca "Usar Foto"** para confirmar o "Tomar Otra" para repetir

#### **Paso 4: Capturar Firma del Cliente**
1. **Toca "Capturar Firma"**
2. **Se abre la pantalla de firma**
3. **Pide al cliente** que firme en la pantalla
4. **El cliente firma** con el dedo
5. **Toca "Guardar Firma"** para continuar

#### **Paso 5: Finalizar Entrega**
1. **Toca "Confirmar Entrega"**
2. **Se actualiza el estado** del pedido a "Entregado"
3. **Regresas a la lista** de pedidos

---

### **PANTALLA DE FIRMA DIGITAL**

#### **Paso 1: Abrir la Pantalla de Firma**
1. **Se abre automáticamente** durante el proceso de entrega
2. **Muestra un área blanca** para firmar

#### **Paso 2: Capturar la Firma**
1. **El cliente firma** con el dedo en la pantalla
2. **La firma aparece** en tiempo real
3. **Se puede firmar** varias veces hasta quedar satisfecho

#### **Paso 3: Opciones de Firma**
**Limpiar Firma**
1. **Toca "Limpiar"**
2. **Se borra** la firma actual
3. **El cliente puede** volver a firmar

**Guardar Firma**
1. **Toca "Guardar Firma"**
2. **Se guarda** la firma capturada
3. **Continúa** el proceso de entrega

**Cancelar**
1. **Toca "Cancelar"**
2. **Se descarta** la firma
3. **Regresa** al proceso de entrega

---

### **PANTALLA DE HISTORIAL**

#### **Paso 1: Acceder al Historial**
1. **Toca el botón "Historial"** en la navegación inferior
2. **Se abre la lista** de entregas completadas

#### **Paso 2: Ver Entregas Pasadas**
1. **Cada entrega muestra**:
   - Fecha y hora
   - Cliente
   - Estado final
   - Tiempo de entrega

#### **Paso 3: Filtrar el Historial**
1. **Toca el botón de filtros**
2. **Selecciona**:
   - Rango de fechas
   - Estado de entrega
   - Cliente específico
3. **Toca "Aplicar"**

#### **Paso 4: Ver Detalles de Entrega Pasada**
1. **Toca cualquier entrega** del historial
2. **Se abre la información** completa de esa entrega
3. **Puedes ver**:
   - Datos del cliente
   - Medicamentos entregados
   - Foto de la entrega
   - Firma del cliente

---

### **PANTALLA DE RUTA**

#### **Paso 1: Acceder a la Ruta**
1. **Toca el botón "Ruta"** en la navegación inferior
2. **Se abre el mapa** con tu ruta optimizada

#### **Paso 2: Ver la Ruta en el Mapa**
1. **El mapa muestra**:
   - Tu ubicación actual (punto azul)
   - Paradas numeradas (puntos rojos)
   - Línea de ruta (línea azul)
   - Distancia y tiempo estimado

#### **Paso 3: Navegar a una Parada**
1. **Toca un marcador** de parada en el mapa
2. **Se muestra información** de ese pedido
3. **Toca "Navegar"** para abrir Google Maps
4. **Sigue las indicaciones** de navegación

#### **Paso 4: Ver Información de Ruta**
1. **En la parte inferior** del mapa verás:
   - Número total de paradas
   - Distancia total
   - Tiempo estimado
   - Pedidos por parada

---

### **PANTALLA DE PERFIL**

#### **Paso 1: Acceder al Perfil**
1. **Toca el botón "Perfil"** en la navegación inferior
2. **Se abre tu perfil** personal

#### **Paso 2: Ver Información Personal**
1. **Tu nombre** y datos básicos
2. **Estadísticas de entrega**:
   - Total de entregas
   - Entregas del día
   - Tiempo promedio
   - Calificación

#### **Paso 3: Configurar Notificaciones**
1. **Toca "Configuración"**
2. **Activa/desactiva**:
   - Notificaciones de nuevos pedidos
   - Recordatorios de entrega
   - Alertas de sistema

#### **Paso 4: Cambiar Contraseña**
1. **Toca "Cambiar Contraseña"**
2. **Ingresa tu contraseña actual**
3. **Ingresa la nueva contraseña**
4. **Confirma la nueva contraseña**
5. **Toca "Guardar"**

---

## Módulo Administrador - Paso a Paso

### **Pantalla Principal del Administrador**

Al abrir la aplicación como administrador, verás la pantalla principal con **5 secciones**:

**En móvil** (navegación inferior):
```
[Entregas] [Farmacias] [Personal] [Rutas] [Configuración]
```

**En desktop** (sidebar lateral):
- Menú lateral con las mismas opciones

---

### **GESTIÓN DE ENTREGAS (Admin)**

#### **Paso 1: Ver Lista de Pedidos**
1. **Al abrir como admin**, estás en "Entregas"
2. **Verás todos los pedidos** del sistema
3. **Cada pedido muestra**:
   - Número de pedido
   - Cliente
   - Repartidor asignado
   - Estado actual
   - Fecha de creación

#### **Paso 2: Cambiar Vista de Visualización**
1. **Toca el botón de vista** (icono de cuadrícula/lista)
2. **Vista de tabla**: Información en filas y columnas
3. **Vista de tarjetas**: Información en tarjetas individuales

#### **Paso 3: Buscar Pedidos**
1. **Toca el campo de búsqueda**
2. **Escribe**:
   - Número de pedido
   - Nombre del cliente
   - Nombre del repartidor
3. **La lista se filtra** automáticamente

#### **Paso 4: Aplicar Filtros Múltiples**
1. **Toca "Filtros"**
2. **Selecciona múltiples estados**:
   - Marca/desmarca estados
   - Selecciona rango de fechas
   - Filtra por repartidor
3. **Toca "Aplicar Filtros"**

#### **Paso 5: Crear Nuevo Pedido**
1. **Toca el botón "+"** (Agregar)
2. **Se abre el formulario** de nuevo pedido
3. **Completa los campos**:
   - Datos del cliente
   - Medicamentos
   - Dirección de entrega
   - Instrucciones especiales
4. **Toca "Guardar"**

#### **Paso 6: Editar Pedido Existente**
1. **Toca un pedido** de la lista
2. **Se abre la pantalla de detalles**
3. **Toca "Editar"**
4. **Modifica los campos** necesarios
5. **Toca "Guardar Cambios"**

#### **Paso 7: Asignar Repartidor**
1. **En la pantalla de detalles** del pedido
2. **Toca "Asignar Repartidor"**
3. **Selecciona un repartidor** de la lista
4. **Toca "Confirmar Asignación"**

#### **Paso 8: Cambiar Estado del Pedido**
1. **En la pantalla de detalles**
2. **Toca "Cambiar Estado"**
3. **Selecciona el nuevo estado**
4. **Toca "Confirmar"**

#### **Paso 9: Exportar Datos**
1. **Toca "Exportar"** (icono de descarga)
2. **Selecciona formato**:
   - CSV
   - Excel
3. **Selecciona rango de fechas**
4. **Toca "Generar Reporte"**

---

### **GESTIÓN DE FARMACIAS**

#### **Paso 1: Ver Lista de Farmacias**
1. **Toca "Farmacias"** en la navegación
2. **Se abre la lista** de farmacias registradas

#### **Paso 2: Agregar Nueva Farmacia**
1. **Toca el botón "+"** (Agregar)
2. **Completa el formulario**:
   - Nombre de la farmacia
   - Dirección
   - Teléfono
   - Email
   - Horarios de atención
   - Coordenadas GPS
3. **Toca "Guardar"**

#### **Paso 3: Editar Farmacia Existente**
1. **Toca una farmacia** de la lista
2. **Se abre la pantalla de detalles**
3. **Toca "Editar"**
4. **Modifica los datos** necesarios
5. **Toca "Guardar Cambios"**

#### **Paso 4: Activar/Desactivar Farmacia**
1. **En la pantalla de detalles**
2. **Toca el interruptor** de estado
3. **Confirma el cambio** en el diálogo

#### **Paso 5: Importar Farmacias desde CSV**
1. **Toca "Importar"** (icono de subida)
2. **Selecciona el archivo CSV**
3. **Revisa la vista previa** de los datos
4. **Toca "Importar Datos"**

---

### **GESTIÓN DE PERSONAL (Repartidores)**

#### **Paso 1: Ver Lista de Repartidores**
1. **Toca "Personal"** en la navegación
2. **Se abre la lista** de repartidores

#### **Paso 2: Agregar Nuevo Repartidor**
1. **Toca el botón "+"** (Agregar)
2. **Completa el formulario**:
   - Nombre completo
   - Email
   - Teléfono
   - Contraseña temporal
   - Zona de trabajo
3. **Toca "Crear Usuario"**

#### **Paso 3: Ver Detalles del Repartidor**
1. **Toca un repartidor** de la lista
2. **Se abre la información** completa:
   - Datos personales
   - Estadísticas de entrega
   - Ubicación actual
   - Pedidos asignados

#### **Paso 4: Cambiar Estado del Repartidor**
1. **En la pantalla de detalles**
2. **Toca "Cambiar Estado"**
3. **Selecciona**:
   - Activo
   - Inactivo
   - En ruta
   - Disponible
4. **Toca "Confirmar"**

#### **Paso 5: Asignar Pedidos**
1. **En la pantalla de detalles del repartidor**
2. **Toca "Asignar Pedidos"**
3. **Selecciona los pedidos** de la lista
4. **Toca "Confirmar Asignación"**

---

### **GESTIÓN DE RUTAS**

#### **Paso 1: Ver Rutas Optimizadas**
1. **Toca "Rutas"** en la navegación
2. **Se abre la lista** de rutas del día

#### **Paso 2: Crear Ruta Manual**
1. **Toca "Crear Ruta"**
2. **Selecciona un repartidor**
3. **Agrega pedidos** a la ruta
4. **Toca "Generar Ruta"**

#### **Paso 3: Ver Detalles de Ruta**
1. **Toca una ruta** de la lista
2. **Se abre el mapa** con la ruta
3. **Puedes ver**:
   - Paradas numeradas
   - Distancia total
   - Tiempo estimado
   - Repartidor asignado

#### **Paso 4: Monitorear Ruta en Tiempo Real**
1. **En la pantalla de detalles**
2. **Toca "Monitorear"**
3. **Ve la ubicación** del repartidor en tiempo real
4. **Recibe alertas** si se desvía de la ruta

#### **Paso 5: Reasignar Pedidos**
1. **En la pantalla de detalles de ruta**
2. **Toca un pedido** de la lista
3. **Toca "Reasignar"**
4. **Selecciona nuevo repartidor**
5. **Toca "Confirmar"**

---

### **CONFIGURACIÓN DEL SISTEMA**

#### **Paso 1: Acceder a Configuración**
1. **Toca "Configuración"** en la navegación
2. **Se abre el panel** de configuración

#### **Paso 2: Configurar Parámetros de Entrega**
1. **Toca "Parámetros de Entrega"**
2. **Ajusta**:
   - Tiempo máximo de entrega
   - Radio de cobertura
   - Horarios de trabajo
3. **Toca "Guardar"**

#### **Paso 3: Configurar Notificaciones**
1. **Toca "Notificaciones"**
2. **Activa/desactiva**:
   - Notificaciones push
   - Emails de alerta
   - SMS de emergencia
3. **Toca "Guardar"**

#### **Paso 4: Gestionar Usuarios Admin**
1. **Toca "Usuarios Administradores"**
2. **Agregar nuevo admin**:
   - Toca "Agregar"
   - Completa datos
   - Asigna permisos
   - Toca "Crear"
3. **Editar permisos**:
   - Toca un usuario
   - Modifica permisos
   - Toca "Guardar"

---

## Solución de Problemas

### **Problemas Comunes del Repartidor**

#### **Error de Conexión**
**Síntoma**: No se cargan los pedidos o aparece "Sin conexión"
**Solución**:
1. **Verifica tu conexión** a internet (WiFi o datos móviles)
2. **Reinicia la aplicación**:
   - Cierra completamente la app
   - Vuelve a abrirla
3. **Si persiste**: Contacta al administrador

#### **Problemas con el Escáner**
**Síntoma**: No escanea códigos de barras o se cierra la cámara
**Solución**:
1. **Verifica permisos de cámara**:
   - Ve a Configuración del teléfono
   - Busca "MedRush"
   - Activa "Permisos de Cámara"
2. **Limpia la lente** de la cámara
3. **Asegura buena iluminación**
4. **Mantén el código** dentro del marco de escaneo

#### **Error en Firma Digital**
**Síntoma**: No se guarda la firma o la pantalla no responde
**Solución**:
1. **Limpia la pantalla** del teléfono
2. **Usa un dedo limpio** y seco
3. **Firma lentamente** y con trazos claros
4. **Si no funciona**: Toca "Limpiar" y vuelve a intentar

#### **Problemas de Ubicación en Ruta**
**Síntoma**: No aparece tu ubicación en el mapa o es inexacta
**Solución**:
1. **Activa el GPS**:
   - Ve a Configuración del teléfono
   - Ubicación > Activar
2. **Permite ubicación precisa**:
   - Configuración > Aplicaciones > MedRush > Permisos
   - Activa "Ubicación"
3. **Sal al exterior** para mejor señal GPS

### **Problemas Comunes del Administrador**

#### **No se Cargan los Datos**
**Síntoma**: Listas vacías o pantalla de carga infinita
**Solución**:
1. **Verifica conexión** a internet
2. **Refresca la pantalla** (desliza hacia abajo)
3. **Reinicia la aplicación**
4. **Contacta soporte técnico** si persiste

#### **Error al Exportar Reportes**
**Síntoma**: No se genera el archivo o aparece error
**Solución**:
1. **Verifica espacio** en el dispositivo
2. **Selecciona menos datos** (rango de fechas más pequeño)
3. **Intenta con otro formato** (CSV en lugar de Excel)
4. **Espera a que termine** la generación

#### **Problemas con Importación CSV**
**Síntoma**: Error al importar farmacias o datos
**Solución**:
1. **Verifica formato** del archivo CSV
2. **Revisa que las columnas** coincidan con el formato esperado
3. **Elimina caracteres especiales** del archivo
4. **Usa el template** proporcionado por la app

### **Soluciones Técnicas Generales**

#### **Reinicio Completo de la Aplicación**
1. **Cierra la aplicación** completamente
2. **Ve a Configuración** del teléfono
3. **Aplicaciones** > MedRush
4. **Almacenamiento** > "Limpiar Caché"
5. **Reinicia el dispositivo**
6. **Abre la aplicación** nuevamente

#### **Verificación de Permisos**
**Android**:
1. Configuración > Aplicaciones > MedRush > Permisos
2. Activa: Cámara, Ubicación, Almacenamiento, Teléfono
